(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(51879)}])},51879:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return y}});var n=t(85893),s=t(67294),l=t(9669);let r=l.create({baseURL:"http://localhost:3042"});var c=t(69077),i=t(90472);function d(e){let{address:a,setBalance:t}=e,[l,d]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[p,x]=(0,s.useState)(""),{isConnected:f}=(0,c.mA)(),{signMessage:j}=(0,c.QW)({async onSuccess(e,a){await o(e,a,t)}});async function m(e){e.preventDefault();let n={fromAddress:a,toAddress:u,amount:l,timestamp:Date.now(),nonce:new DataView((0,i.Z5)(4).buffer,0).getUint32(0,!1)};if(f){j({message:JSON.stringify(n)});return}try{let{data:{balance:e}}=await r.post("send",n,{headers:{signature:""}});t(e)}catch(e){alert(e.response.data.message)}}return(0,n.jsxs)("form",{className:"container transfer",onSubmit:m,children:[(0,n.jsx)("h1",{children:"Send Transaction"}),(0,n.jsxs)("label",{children:["Private Key",(0,n.jsx)("input",{disabled:f,placeholder:"1, 2, 3...",value:p,onChange:e=>x(e.target.value)})]}),(0,n.jsxs)("label",{children:["Send Amount",(0,n.jsx)("input",{placeholder:"1, 2, 3...",value:l,onChange:e=>d(e.target.value)})]}),(0,n.jsxs)("label",{children:["Recipient",(0,n.jsx)("input",{placeholder:"Type an address, for example: 0x2",value:u,onChange:e=>h(e.target.value)})]}),(0,n.jsx)("input",{type:"submit",className:"button",value:"Transfer"})]})}async function o(e,a,t){try{let{data:{balance:n}}=await r.post("send",JSON.parse(a.message),{headers:{signature:e}});t(n)}catch(e){alert(e.response.data.message)}}function u(e){let{address:a,setAddress:t,balance:l,setBalance:c}=e,[i,d]=(0,s.useState)(!1);async function o(){if(h(a)){let{data:{balance:e}}=await r.get("balance/".concat(a));c(e)}}return(0,s.useEffect)(()=>{d(h(a))},[a]),(0,n.jsxs)("div",{className:"container wallet",children:[(0,n.jsxs)("label",{children:["Wallet Address",(0,n.jsx)("input",{placeholder:"Type an address, for example: 0x1",value:a,onChange:e=>t(e.target.value)})]}),i?(0,n.jsxs)("div",{className:"balance",children:["Balance: ",l]}):(0,n.jsx)("div",{className:"balance",children:"That is not a valid public key"}),(0,n.jsx)("button",{onClick:o,children:"Get balance"})]})}function h(e){return e&&e.split("x").length>1&&40===e.split("x")[1].length&&function(e){let a=BigInt(e);return"0x".concat(a.toString(16))===e.toLowerCase()}(e)&&"0"===e.split("x")[0]}function p(e){let{balance:a,setBalance:t,address:s,setAddress:l}=e;return(0,n.jsxs)("div",{className:"container wallet",children:[(0,n.jsx)("h1",{children:"Your Wallet"}),(0,n.jsx)(u,{balance:a,setBalance:t,address:s,setAddress:l})]})}t(50019);var x=t(7780),f=t(51416),j=t(99937),m=t(81202),b=t(31407);let{chains:g,provider:v}=(0,j.QB)([b.Fo],[(0,m.I)()]),{connectors:w}=(0,x.wo)({appName:"client",chains:g}),N=(0,c.eI)({autoConnect:!1,connectors:w,provider:v});function y(){let[e,a]=(0,s.useState)(0),[t,l]=function(){let[e,a]=(0,s.useState)(""),{address:t,isConnected:n}=(0,c.mA)();return(0,s.useEffect)(()=>{n&&a(t)},[n]),[e,a]}();return(0,n.jsx)(c.eM,{client:N,children:(0,n.jsxs)(f.pj,{chains:g,modalSize:"compact",children:[(0,n.jsx)("div",{className:"container",children:(0,n.jsx)(f.NL,{})}),(0,n.jsxs)("div",{className:"app",children:[(0,n.jsx)(p,{balance:e,setBalance:a,address:t,setAddress:l}),(0,n.jsx)(d,{setBalance:a,address:t})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Made with love by"}),(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:"https://rayniel95.github.io/",children:"Rainyel Ramos"})}),(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:"https://github.com/rayniel95/ecdsa-node",children:"Take a look to the code"})})]})]})})}},46601:function(){}},function(e){e.O(0,[230,17,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);